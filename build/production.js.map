{"version":3,"file":"production.js","sources":["../src/components/barge-button.js","../src/components/barge-clock.js","../src/components/barge-slot.js","../src/components/barge-data.js","../src/components/world-mover.js","../src/components/halo.js","../src/main.js"],"sourcesContent":["AFRAME.registerComponent(\"socialvr-barge-button\", {\r\n  schema: {\r\n    text: {\r\n      type: \"string\",\r\n      default: \"start\"\r\n    },\r\n    eventName: {\r\n      type: \"string\",\r\n      default: \"\"\r\n    },\r\n    phaseID: {\r\n      type: \"number\",\r\n      default: -1\r\n    },\r\n    radius: {\r\n      type: \"number\",\r\n      default: 0.2\r\n    },\r\n    color: {\r\n      type: \"color\",\r\n      default: \"#FFF\"\r\n    }\r\n  },\r\n\r\n  init: function () {\r\n    this.geometry = new THREE.SphereGeometry(this.data.radius, 16, 8);\r\n    this.material = new THREE.MeshStandardMaterial({\r\n      color: this.data.color,\r\n      roughness: 0.5,\r\n    });\r\n\r\n    this.mesh = new THREE.Mesh(this.geometry, this.material);\r\n\r\n    this.el.setObject3D(\"mesh\", this.mesh);\r\n    this.el.setAttribute(\"tags\", \"singleActionButton: true\");\r\n    this.el.setAttribute(\"is-remote-hover-target\", \"\");\r\n    this.el.setAttribute(\"hoverable-visuals\", \"\");\r\n    this.el.classList.add(\"interactable\");\r\n\r\n    // Text\r\n    this.text = document.createElement(\"a-entity\");\r\n    this.text.setAttribute(\"position\", `0 ${this.data.radius + 0.2} 0`);\r\n    this.text.setAttribute(\"text\", `value: ${this.data.text}; side: double;`);\r\n    this.text.setAttribute(\"geometry\", `primitive: plane; height: auto; width: 0.75;`);\r\n    this.text.setAttribute(\"material\", \"color: #807e7e;\");\r\n    this.text.setAttribute(\"billboard\", \"onlyY: true;\");\r\n    this.el.appendChild(this.text);\r\n\r\n    this.onClick = this.onClick.bind(this);\r\n    this.el.object3D.addEventListener(\"interact\", this.onClick);\r\n  },\r\n\r\n  remove: function () {\r\n    this.el.object3D.removeEventListener(\"interact\", this.onClick);\r\n  },\r\n\r\n  onClick: function () {\r\n    if (this.data.phaseID >= 0) {\r\n      this.el.sceneEl.emit(\"logPhaseEvent\", { detail: this.data.phaseID });\r\n\r\n      if (this.data.phaseID === 1) {\r\n        this.el.sceneEl.emit(\"startMovingWorld\");\r\n      } else if (this.data.phaseID === 4) {\r\n        this.el.sceneEl.emit(\"stopMovingWorld\");\r\n        this.el.sceneEl.emit(\"generateDataEvent\");\r\n      }\r\n    } else {\r\n      this.el.sceneEl.systems[\"hubs-systems\"].soundEffectsSystem.playSoundOneShot(18);\r\n      this.el.sceneEl.emit(this.data.eventName);\r\n    }\r\n  }\r\n});","AFRAME.registerComponent(\"socialvr-barge-clock\", {\r\n  init: function () {\r\n    this.geometry = new THREE.SphereGeometry(2, 16, 8);\r\n    this.material = new THREE.MeshBasicMaterial({\r\n      alphaTest: 0, \r\n      visible: false\r\n    });\r\n\r\n    this.mesh = new THREE.Mesh(this.geometry, this.material);\r\n    this.el.setObject3D(\"mesh\", this.mesh);\r\n\r\n    this.text = document.createElement(\"a-entity\");\r\n    this.text.setAttribute(\"text\", \"value: Time;\");\r\n    this.text.setAttribute(\"rotation\", \"0, 0, 0\");\r\n    this.text.setAttribute(\"geometry\", \"primitive: plane; height: auto; width: 1;\");\r\n    this.text.setAttribute(\"material\", \"color: #807e7e;\");\r\n\r\n    this.text2 = document.createElement(\"a-entity\");\r\n    this.text2.setAttribute(\"text\", \"value: Time;\");\r\n    this.text2.setAttribute(\"rotation\", \"0, 180, 0\");\r\n    this.text2.setAttribute(\"geometry\", \"primitive: plane; height: auto; width: 1;\");\r\n    this.text2.setAttribute(\"material\", \"color: #807e7e;\");\r\n\r\n    this.el.appendChild(this.text);\r\n    this.el.appendChild(this.text2);\r\n    this.el.setAttribute(\"animation\", \"property: rotation; to: 0 -360 0; easing: linear; loop: true; dur: 100000;\");\r\n  },\r\n\r\n  tick: function () {\r\n    let time = new Date()\r\n    let hours = time.getHours() % 12;\r\n    let minutes = time.getMinutes() < 10 ? `0${time.getMinutes()}` : time.getMinutes();\r\n    let ampm = time.getHours() >= 12 ? \"PM\" : \"AM\";\r\n\r\n    hours = hours ? hours : 12;\r\n\r\n    this.text.setAttribute(\"text\", `value: ${hours}:${minutes} ${ampm};`);\r\n    this.text2.setAttribute(\"text\", `value: ${hours}:${minutes} ${ampm};`);\r\n  }\r\n});","AFRAME.registerComponent(\"socialvr-barge-slot\", {\r\n    schema: {\r\n        type: {\r\n            type: \"string\",\r\n            default: \"knowledge\"\r\n        },\r\n        rank: {\r\n            type: \"number\",\r\n            default: 1\r\n        },\r\n        consumed: {\r\n            type: \"boolean\",\r\n            default: false\r\n        },\r\n        width: {\r\n            type: \"number\",\r\n            default: 0.5\r\n        },\r\n        height: {\r\n            type: \"number\",\r\n            default: 0.25\r\n        },\r\n        depth: {\r\n            type: \"number\",\r\n            default: 1\r\n        }\r\n    },\r\n\r\n    init: function () {\r\n        this.geometry = new THREE.BoxGeometry(this.data.width, this.data.height, this.data.depth);\r\n        this.material = new THREE.MeshStandardMaterial({\r\n            color: \"#FF0000\",\r\n            transparent: true,\r\n            opacity: 0.5\r\n        });\r\n\r\n        this.mesh = new THREE.Mesh(this.geometry, this.material);\r\n        this.el.setObject3D(\"mesh\", this.mesh);\r\n        this.el.getObject3D(\"mesh\").visible = false;\r\n    }\r\n});","AFRAME.registerComponent(\"socialvr-barge-data\", {\r\n    init: function () {\r\n        this.started = -1;\r\n        this.phaseEvents = [];\r\n        this.clockEvents = [];\r\n        this.knowledge_ranks = [];\r\n        this.skills_ranks = [];\r\n        this.abilities_ranks = [];\r\n        this.selected_canidate = \"\";\r\n\r\n        this.pov_raycaster = new THREE.Raycaster();\r\n        this.last_clock_time = -1;\r\n\r\n        this.knowledge_blocks = [\r\n            {\r\n                name: \"Transportation\",\r\n                model: \"https://hubscloud-assets.socialsuperpowers.net/files/16cf08c7-315e-41fb-a2b1-08602faef8d4.glb\",\r\n            },\r\n            {\r\n                name: \"Customer Service\",\r\n                model: \"https://hubscloud-assets.socialsuperpowers.net/files/1c852441-a9a5-468b-b567-65a9b3f80006.glb\",\r\n            },\r\n            {\r\n                name: \"Geography\",\r\n                model: \"https://hubscloud-assets.socialsuperpowers.net/files/ae06eebb-9fc4-4310-a4dd-5286ebcb3ffd.glb\",\r\n            },\r\n            {\r\n                name: \"Public Safety\",\r\n                model: \"https://hubscloud-assets.socialsuperpowers.net/files/5b19b8ed-32f7-4669-b42c-0b871659bb97.glb\",\r\n            }\r\n        ];\r\n\r\n        this.skills_blocks = [\r\n            {\r\n                name: \"Troubleshooting\",\r\n                model: \"https://hubscloud-assets.socialsuperpowers.net/files/13c0b66c-f392-4d2e-bc83-0001c8f12caf.glb\"\r\n            },\r\n            {\r\n                name: \"Time Management\",\r\n                model: \"https://hubscloud-assets.socialsuperpowers.net/files/db4a4fbf-7ccf-483a-afe2-380cee5e24d9.glb\"\r\n            },\r\n            {\r\n                name: \"Operations\",\r\n                model: \"https://hubscloud-assets.socialsuperpowers.net/files/a64ad1c3-dc8a-45f4-9b04-0217c0594c05.glb\"\r\n            },\r\n            {\r\n                name: \"Oral & Written Communication\",\r\n                model: \"https://hubscloud-assets.socialsuperpowers.net/files/a64ad1c3-dc8a-45f4-9b04-0217c0594c05.glb\"\r\n            },\r\n            {\r\n                name: \"Coordination\",\r\n                model: \"https://hubscloud-assets.socialsuperpowers.net/files/760aa9ae-5622-4fa7-8972-0dc251bea580.glb\"\r\n            },\r\n            {\r\n                name: \"Critical Decision Making\",\r\n                model: \"https://hubscloud-assets.socialsuperpowers.net/files/f730c483-084e-4d72-896c-9beee800e0da.glb\"\r\n            },\r\n            {\r\n                name: \"Systems Analysis\",\r\n                model: \"https://hubscloud-assets.socialsuperpowers.net/files/2ad03466-e33b-48cd-80eb-342f212be870.glb\"\r\n            }\r\n        ];\r\n\r\n        this.abilities_blocks = [\r\n            {\r\n                name: \"Auditory Attention\",\r\n                model: \"https://hubscloud-assets.socialsuperpowers.net/files/1a2ed09b-f5c7-4945-8d1a-a1413cb3394a.glb\"\r\n            },\r\n            {\r\n                name: \"Physical Dexterity\",\r\n                model: \"https://hubscloud-assets.socialsuperpowers.net/files/baa69f70-0418-4175-a160-507e4bdc8443.glb\"\r\n            },\r\n            {\r\n                name: \"Visual Attention\",\r\n                model: \"https://hubscloud-assets.socialsuperpowers.net/files/9e44c094-6cee-4cd4-be42-129e873e4408.glb\"\r\n            },\r\n            {\r\n                name: \"Problem Sensitivity\",\r\n                model: \"https://hubscloud-assets.socialsuperpowers.net/files/6841869e-9cac-4cb0-9b3d-af04f316880a.glb\"\r\n            },\r\n            {\r\n                name: \"Concentration\",\r\n                model: \"https://hubscloud-assets.socialsuperpowers.net/files/7b4d91c6-faa3-454a-8681-c07f8fce9966.glb\"\r\n            },\r\n            {\r\n                name: \"Mental Reasoning\",\r\n                model: \"https://hubscloud-assets.socialsuperpowers.net/files/62ff8ac3-c2d0-4e9e-9440-c1f0c8c6c77f.glb\"\r\n            }\r\n        ];\r\n\r\n        this.canidate_blocks = [\r\n            {\r\n                name: \"Zoya A. Chopra\",\r\n                model: \"https://hubscloud-assets.socialsuperpowers.net/files/dec43ec6-a9a3-4400-b3db-6adc3cce4666.glb\",\r\n            },\r\n            {\r\n                name: \"Robert P. Johnson\",\r\n                model: \"https://hubscloud-assets.socialsuperpowers.net/files/a135ec4e-615c-455b-9a58-7412403a522b.glb\",\r\n            },\r\n            {\r\n                name: \"William K. Bevins\",\r\n                model: \"https://hubscloud-assets.socialsuperpowers.net/files/62f03c4b-3bb5-4998-8bd6-2fdbe6b9fd6b.glb\",\r\n            },\r\n            {\r\n                name: \"Kathy L. Stromm\",\r\n                model: \"https://hubscloud-assets.socialsuperpowers.net/files/d3a50b69-9340-4eab-b8f0-bb8eac5b2080.glb\",\r\n            },\r\n        ];\r\n\r\n        this.knowledge_blocks.forEach((item) => { item.distance = 9999; });\r\n        this.skills_blocks.forEach((item) => { item.distance = 9999; });\r\n        this.abilities_blocks.forEach((item) => { item.distance = 9999; });\r\n        this.canidate_blocks.forEach((item) => { item.distance = 9999; });\r\n\r\n        this.el.sceneEl.addEventListener(\"logPhaseEvent\", (e) => { this._logPhaseEvent.call(this, e.detail) });\r\n        NAF.connection.subscribeToDataChannel(\"logPhaseEvent\", this.logPhaseEvent.bind(this));\r\n\r\n        this.el.sceneEl.addEventListener(\"logClockEvent\", (e) => { this._logClockEvent.call(this, e.detail) });\r\n        NAF.connection.subscribeToDataChannel(\"logClockEvent\", this.logClockEvent.bind(this));\r\n\r\n        this.el.sceneEl.addEventListener(\"generateDataEvent\", this._generateData.bind(this));\r\n        NAF.connection.subscribeToDataChannel(\"generateDataEvent\", this.generateData.bind(this));\r\n    },\r\n\r\n    tock: function () {\r\n        if (this.started >= 0) {\r\n            this.pov_raycaster.setFromCamera(new THREE.Vector2(), document.getElementById(\"viewing-camera\").object3DMap.camera);\r\n            const time = Date.now();\r\n\r\n            if (this.last_clock_time + 1000 <= time) {\r\n                this.last_clock_time = time;\r\n\r\n                const clock = document.querySelector(\"[socialvr-barge-clock]\");\r\n                const playerInfo = document.querySelectorAll(\"[player-info]\")[0].components[\"player-info\"];\r\n                const intersected = this.pov_raycaster.intersectObject(clock.object3D);\r\n\r\n                if (intersected.length >= 1) {\r\n                    this.el.sceneEl.emit(\"logClockEvent\", { \r\n                        detail: {\r\n                            displayName: playerInfo.displayName,\r\n                            playerSessionId: playerInfo.playerSessionId\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    generate() {\r\n        let slotPosition = new THREE.Vector3();\r\n\r\n        document.querySelectorAll('[socialvr-barge-slot=\"\"]').forEach((slot) => {\r\n            slot.object3D.getWorldPosition(slotPosition);\r\n\r\n            if (slot.components[\"socialvr-barge-slot\"].data.type === \"knowledge\") {\r\n                document.querySelectorAll('.interactable:not([super-spawner=\"\"])').forEach((interactable) => {\r\n                    if (interactable.components[\"gltf-model-plus\"]) {\r\n                        if (interactable.components[\"gltf-model-plus\"].data.src === this.knowledge_blocks[0].model) {\r\n                            this.knowledge_blocks[0].distance = slotPosition.distanceToSquared(interactable.object3D.getWorldPosition(new THREE.Vector3()));\r\n                        }\r\n                        else if (interactable.components[\"gltf-model-plus\"].data.src === this.knowledge_blocks[1].model) {\r\n                            this.knowledge_blocks[1].distance = slotPosition.distanceToSquared(interactable.object3D.getWorldPosition(new THREE.Vector3()));\r\n                        }\r\n                        else if (interactable.components[\"gltf-model-plus\"].data.src === this.knowledge_blocks[2].model) {\r\n                            this.knowledge_blocks[2].distance = slotPosition.distanceToSquared(interactable.object3D.getWorldPosition(new THREE.Vector3()));\r\n                        }\r\n                        else if (interactable.components[\"gltf-model-plus\"].data.src === this.knowledge_blocks[3].model) {\r\n                            this.knowledge_blocks[3].distance = slotPosition.distanceToSquared(interactable.object3D.getWorldPosition(new THREE.Vector3()));\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            else if (slot.components[\"socialvr-barge-slot\"].data.type === \"skills\") {\r\n                document.querySelectorAll('.interactable:not([super-spawner=\"\"])').forEach((interactable) => {\r\n                    if (interactable.components[\"gltf-model-plus\"]) {\r\n                        if (interactable.components[\"gltf-model-plus\"].data.src === this.skills_blocks[0].model) {\r\n                            this.skills_blocks[0].distance = slotPosition.distanceToSquared(interactable.object3D.getWorldPosition(new THREE.Vector3()));\r\n                        }\r\n                        else if (interactable.components[\"gltf-model-plus\"].data.src === this.skills_blocks[1].model) {\r\n                            this.skills_blocks[1].distance = slotPosition.distanceToSquared(interactable.object3D.getWorldPosition(new THREE.Vector3()));\r\n                        }\r\n                        else if (interactable.components[\"gltf-model-plus\"].data.src === this.skills_blocks[2].model) {\r\n                            this.skills_blocks[2].distance = slotPosition.distanceToSquared(interactable.object3D.getWorldPosition(new THREE.Vector3()));\r\n                        }\r\n                        else if (interactable.components[\"gltf-model-plus\"].data.src === this.skills_blocks[3].model) {\r\n                            this.skills_blocks[3].distance = slotPosition.distanceToSquared(interactable.object3D.getWorldPosition(new THREE.Vector3()));\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            else if (slot.components[\"socialvr-barge-slot\"].data.type === \"abilities\") {\r\n                document.querySelectorAll('.interactable:not([super-spawner=\"\"])').forEach((interactable) => {\r\n                    if (interactable.components[\"gltf-model-plus\"]) {\r\n                        if (interactable.components[\"gltf-model-plus\"].data.src === this.abilities_blocks[0].model) {\r\n                            this.abilities_blocks[0].distance = slotPosition.distanceToSquared(interactable.object3D.getWorldPosition(new THREE.Vector3()));\r\n                        }\r\n                        else if (interactable.components[\"gltf-model-plus\"].data.src === this.abilities_blocks[1].model) {\r\n                            this.abilities_blocks[1].distance = slotPosition.distanceToSquared(interactable.object3D.getWorldPosition(new THREE.Vector3()));\r\n                        }\r\n                        else if (interactable.components[\"gltf-model-plus\"].data.src === this.abilities_blocks[2].model) {\r\n                            this.abilities_blocks[2].distance = slotPosition.distanceToSquared(interactable.object3D.getWorldPosition(new THREE.Vector3()));\r\n                        }\r\n                        else if (interactable.components[\"gltf-model-plus\"].data.src === this.abilities_blocks[3].model) {\r\n                            this.abilities_blocks[3].distance = slotPosition.distanceToSquared(interactable.object3D.getWorldPosition(new THREE.Vector3()));\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            else if (slot.components[\"socialvr-barge-slot\"].data.type === \"canidate\") {\r\n                document.querySelectorAll('.interactable:not([super-spawner=\"\"])').forEach((interactable) => {\r\n                    if (interactable.components[\"gltf-model-plus\"]) {\r\n                        if (interactable.components[\"gltf-model-plus\"].data.src === this.canidate_blocks[0].model) {\r\n                            this.canidate_blocks[0].distance = slotPosition.distanceToSquared(interactable.object3D.getWorldPosition(new THREE.Vector3()));\r\n                        }\r\n                        else if (interactable.components[\"gltf-model-plus\"].data.src === this.canidate_blocks[1].model) {\r\n                            this.canidate_blocks[1].distance = slotPosition.distanceToSquared(interactable.object3D.getWorldPosition(new THREE.Vector3()));\r\n                        }\r\n                        else if (interactable.components[\"gltf-model-plus\"].data.src === this.canidate_blocks[2].model) {\r\n                            this.canidate_blocks[2].distance = slotPosition.distanceToSquared(interactable.object3D.getWorldPosition(new THREE.Vector3()));\r\n                        }\r\n                        else if (interactable.components[\"gltf-model-plus\"].data.src === this.canidate_blocks[3].model) {\r\n                            this.canidate_blocks[3].distance = slotPosition.distanceToSquared(interactable.object3D.getWorldPosition(new THREE.Vector3()));\r\n                        }\r\n                    }\r\n                });\r\n\r\n                this.canidate_blocks.sort(function (a, b) {\r\n                    return a.distance - b.distance\r\n                });\r\n\r\n                this.selected_canidate = this.canidate_blocks[0].name;\r\n            }\r\n        });\r\n\r\n        this.knowledge_blocks.sort(function (a, b) {\r\n            return a.distance - b.distance\r\n        });\r\n\r\n        this.skills_blocks.sort(function (a, b) {\r\n            return a.distance - b.distance\r\n        });\r\n\r\n        this.abilities_blocks.sort(function (a, b) {\r\n            return a.distance - b.distance\r\n        });\r\n\r\n        this.knowledge_ranks[0] = this.knowledge_blocks[0].name;\r\n        this.knowledge_ranks[1] = this.knowledge_blocks[1].name;\r\n        this.knowledge_ranks[2] = this.knowledge_blocks[2].name;\r\n\r\n        this.skills_ranks[0] = this.skills_blocks[0].name;\r\n        this.skills_ranks[1] = this.skills_blocks[1].name;\r\n        this.skills_ranks[2] = this.skills_blocks[2].name;\r\n\r\n        this.abilities_ranks[0] = this.abilities_blocks[0].name;\r\n        this.abilities_ranks[1] = this.abilities_blocks[1].name;\r\n        this.abilities_ranks[2] = this.abilities_blocks[2].name;\r\n\r\n        const data = {\r\n            started_at: this.started,\r\n            completed_at: Date.now(),\r\n            knowledge: this.knowledge_ranks,\r\n            skills: this.skills_ranks,\r\n            abilities: this.abilities_ranks,\r\n            canidate: this.selected_canidate,\r\n            phase_events: this.phaseEvents,\r\n            clock_events: this.clockEvents\r\n        };\r\n\r\n        //console.clear();\r\n        console.log(JSON.stringify(data));\r\n    },\r\n\r\n    generateData: function () {\r\n        this.generate();\r\n    },\r\n\r\n    _generateData: function () {\r\n        this.generateData(null, null, {});\r\n        NAF.connection.broadcastDataGuaranteed(\"generateDataEvent\", {});\r\n    },\r\n\r\n    logPhaseEvent: function (senderId, dataType, data) {\r\n        if (data.phase === 1) {\r\n            this.started = Date.now()\r\n        }\r\n\r\n        this.phaseEvents[data.phase - 1] = {\r\n            timestamp: Date.now(),\r\n            phase: `${data.phase}`\r\n        };\r\n\r\n        // Remove clicked phase buttons on all clients\r\n        document.querySelectorAll(\"[socialvr-barge-button]\").forEach((element) => {\r\n            if (element.components[\"socialvr-barge-button\"].data.phaseID === data.phase) {\r\n                this.el.sceneEl.systems[\"hubs-systems\"].soundEffectsSystem.playSoundOneShot(18);\r\n                element.parentNode.removeChild(element);\r\n            }\r\n        });\r\n    },\r\n\r\n    _logPhaseEvent: function (e) {\r\n        this.logPhaseEvent(null, null, { phase: e.detail });\r\n        NAF.connection.broadcastDataGuaranteed(\"logPhaseEvent\", { phase: e.detail });\r\n    },\r\n\r\n    logClockEvent: function (senderId, dataType, data) {\r\n        this.clockEvents.push({\r\n            timestamp: Date.now(),\r\n            sessionID: data.playerSessionId,\r\n            displayName: data.displayName\r\n        });\r\n    },\r\n\r\n    _logClockEvent: function (e) {\r\n        this.logClockEvent(null, null, { ...e.detail });\r\n        NAF.connection.broadcastDataGuaranteed(\"logClockEvent\", { ...e.detail });\r\n    },\r\n});","AFRAME.registerComponent(\"socialvr-world-mover\", {\r\n    init: function () {\r\n        this.moving = false;\r\n        this.destinations = [];\r\n        this.currentDestination = 0;\r\n        this.direction = new THREE.Vector3(0, 0, 0);\r\n        this.speed = 1;\r\n        this.lastCheck = 0;\r\n\r\n        // Initialize Waypoints\r\n        for (let i = 0; i <= 100; i++) {\r\n            const waypoint = document.querySelector(\".Waypoint_\" + i);\r\n\r\n            if (waypoint) {\r\n                this.destinations.push(waypoint.object3D.position.negate());\r\n\r\n                console.log(`Waypoint [${i}]: ${waypoint.object3D.position}`);\r\n            }\r\n        }\r\n\r\n        if (this.destinations.length >= 1) {\r\n            console.log(`Registered ${this.destinations.length} waypoints.`);\r\n        } else {\r\n            console.warn(\"No waypoints found!\");\r\n            console.warn(\"Registering default waypoints.\");\r\n\r\n            this.destinations.push(new THREE.Vector3(10, 0, 0).negate());\r\n            this.destinations.push(new THREE.Vector3(10, 0, 20).negate());\r\n            this.destinations.push(new THREE.Vector3(-10, 10, 20).negate());\r\n            this.destinations.push(new THREE.Vector3(-10, 20, 30).negate());\r\n        }\r\n\r\n        // Networked Events\r\n        this.el.sceneEl.addEventListener(\"startMovingWorld\", this._start.bind(this));\r\n        this.el.sceneEl.addEventListener(\"stopMovingWorld\", this._stop.bind(this));\r\n\r\n        NAF.connection.subscribeToDataChannel(\"startMovingWorld\", this.start.bind(this));\r\n        NAF.connection.subscribeToDataChannel(\"stopMovingWorld\", this.stop.bind(this));\r\n\r\n        // Load environment\r\n        window.APP.utils.GLTFModelPlus\r\n            .loadModel(\"https://statuesque-rugelach-4185bd.netlify.app/assets/moving-world-7.glb\")\r\n            .then((model) => {\r\n                this.el.setObject3D(\"mesh\", model.scene);\r\n            })\r\n            .finally(() => {\r\n                // Disable original sky\r\n                const skybox = document.querySelector('[skybox=\"\"]');\r\n\r\n                if (skybox) {\r\n                    skybox.removeObject3D(\"mesh\");\r\n                }\r\n\r\n                // Create sky\r\n                const sky = document.createElement(\"a-entity\");\r\n                const geometry = new THREE.SphereGeometry(8192, 8, 8);\r\n                const material = new THREE.ShaderMaterial({\r\n                    side: THREE.BackSide,\r\n                    transparent: false,\r\n                    fog: false,\r\n                    uniforms: {\r\n                        color1: {\r\n                            value: new THREE.Color(0x87CEEB)\r\n                        },\r\n                        color2: {\r\n                            value: new THREE.Color(0xF0FFFF)\r\n                        }\r\n                    },\r\n                    vertexShader: `\r\n                        varying vec2 vUv;\r\n                    \r\n                        void main() {\r\n                          vUv = uv;\r\n                          gl_Position = projectionMatrix * modelViewMatrix * vec4(position,1.0);\r\n                        }\r\n                      `,\r\n                    fragmentShader: `\r\n                        uniform vec3 color1;\r\n                        uniform vec3 color2;\r\n                      \r\n                        varying vec2 vUv;\r\n                        \r\n                        void main() {\r\n                          \r\n                          gl_FragColor = vec4(mix(color1, color2, vUv.y), 1.0);\r\n                        }\r\n                      `\r\n                });\r\n\r\n                sky.setObject3D(\"mesh\", new THREE.Mesh(geometry, material));\r\n                this.el.sceneEl.appendChild(sky);\r\n            })\r\n            .catch((e) => {\r\n                console.error(e);\r\n            });\r\n    },\r\n\r\n    remove: function () {\r\n        this.el.sceneEl.removeEventListener(\"startMovingWorld\", this._start.bind(this));\r\n        this.el.sceneEl.removeEventListener(\"stopMovingWorld\", this._stop.bind(this));\r\n    },\r\n\r\n    tick: function (time, delta) {\r\n        if (this.moving) {\r\n            const target = this.destinations[this.currentDestination];\r\n\r\n            if (target) {\r\n                this.direction.copy(target).sub(this.el.object3D.position);\r\n\r\n                if (this.el.object3D.position.distanceToSquared(target) >= 1) {\r\n                    this.direction.multiplyScalar(this.speed / this.direction.length() * (delta / 1000));\r\n\r\n                    this.el.setAttribute(\"position\", { \r\n                        x: this.el.object3D.position.x + this.direction.x, \r\n                        y: this.el.object3D.position.y + this.direction.y, \r\n                        z: this.el.object3D.position.z + this.direction.z, \r\n                    });\r\n                } else {\r\n                    if (isNaN(this.lastCheck) || time >= this.lastCheck) {\r\n                        this.lastCheck = time + 100;\r\n                        this.currentDestination = this.currentDestination + 1;\r\n                    }\r\n                }\r\n            } else {\r\n                this.moving = false;\r\n            }\r\n        }\r\n    },\r\n\r\n    start: function () {\r\n        this.moving = true;\r\n\r\n        // Remove hangar objects\r\n        const removeImages = [\r\n            \"https://hubscloud-assets.socialsuperpowers.net/files/04ff2033-e9f6-4f82-991a-0d7d530062f5.jpg\",\r\n            \"https://hubscloud-assets.socialsuperpowers.net/files/40fb41d1-c6cd-4541-88f2-7386076b01ae.jpg\",\r\n            \"https://hubscloud-assets.socialsuperpowers.net/files/5a57b59f-e76d-42ae-b01e-371673cf3624.png\",\r\n            \"https://hubscloud-assets.socialsuperpowers.net/files/4878ef88-4761-485f-bfce-f40bbf577457.png\",\r\n            \"https://hubscloud-assets.socialsuperpowers.net/files/0a65963c-8957-43c0-916d-da283efa5bf8.png\",\r\n            \"https://hubscloud-assets.socialsuperpowers.net/files/95c62972-9d00-4e1c-ac42-f003d764c751.png\"\r\n        ];\r\n\r\n        document.querySelectorAll(\"[media-image]\").forEach((element) => {\r\n            if (removeImages.includes(element.components[\"media-image\"].data.src)) {\r\n                element.parentNode.removeChild(element);\r\n            }\r\n        });\r\n\r\n        const removeClasses = [\r\n            \".tutorialblock1\",\r\n            \".tutorialblock2\",\r\n            \".tutorialblock3\"\r\n        ];\r\n\r\n        removeClasses.forEach((target) => {\r\n            const element = document.querySelector(target);\r\n\r\n            if (element) {\r\n                element.parentNode.removeChild(element);\r\n            }\r\n        });\r\n    },\r\n\r\n    stop: function () {\r\n        this.moving = false;\r\n    },\r\n\r\n    _start: function () {\r\n        this.start(null, null, {});\r\n        NAF.connection.broadcastDataGuaranteed(\"startMovingWorld\", {});\r\n    },\r\n\r\n    _stop: function () {\r\n        this.stop(null, null, {});\r\n        NAF.connection.broadcastDataGuaranteed(\"stopMovingWorld\", {});\r\n    }\r\n})","const MIC_PRESENCE_VOLUME_THRESHOLD = 0.00001;\r\n\r\nconst SPEECH_TIME_PER_TICK = 10; // every speech tick = 10ms of realtime\r\nconst MIN_SPEECH_TIME_FOR_EVENT = 100; // 0.1s realtime\r\nconst MAX_SPEECH_TIME_FOR_EVENT = 5000; // 5s realtime\r\nconst CONTINUOUS_SPEECH_LENIENCY_TIME = 100; // 0.1s realtime\r\n\r\nAFRAME.registerComponent(\"socialvr-halo\", {\r\n    init: function () {\r\n        this.geometry = new THREE.TorusGeometry(0.05, 0.01, 8, 16);\r\n        this.material = new THREE.MeshStandardMaterial({ color: \"#FF6782\" });\r\n\r\n        this.mesh = new THREE.Mesh(this.geometry, this.material);\r\n        this.mesh.rotateX(THREE.Math.degToRad(90));\r\n\r\n        this.el.setObject3D(\"mesh\", this.mesh);\r\n\r\n        // Audio\r\n        this.localAudioAnalyser = this.el.sceneEl.systems[\"local-audio-analyser\"];\r\n        this.playerInfo = APP.componentRegistry[\"player-info\"][0];\r\n\r\n        this.continuousSpeechTime = 0;\r\n        this.continuousSpeechLeniencyTime = 0;\r\n    },\r\n\r\n    tock: function (time, delta) {\r\n        const muted = this.playerInfo.data.muted;\r\n        const speaking = !muted && this.localAudioAnalyser.volume > MIC_PRESENCE_VOLUME_THRESHOLD;\r\n\r\n        if (speaking) {\r\n            if (this.continuousSpeechTime === 0) {\r\n                // Just started talking\r\n            }\r\n\r\n            this.continuousSpeechTime += SPEECH_TIME_PER_TICK;\r\n            this.continuousSpeechLeniencyTime = CONTINUOUS_SPEECH_LENIENCY_TIME;\r\n\r\n            if (this.continuousSpeechTime <= MAX_SPEECH_TIME_FOR_EVENT) {\r\n                // Size up\r\n                console.log(\"Size up\")\r\n            } else {\r\n                alert(\"limit reached\")\r\n            }\r\n        } else {\r\n            if (this.continuousSpeechLeniencyTime > 0) {\r\n                this.continuousSpeechLeniencyTime -= SPEECH_TIME_PER_TICK;\r\n            }\r\n            if (this.continuousSpeechLeniencyTime <= 0 && this.continuousSpeechTime >= MIN_SPEECH_TIME_FOR_EVENT) {\r\n                // Just stopped talking\r\n            }\r\n        }\r\n\r\n        /** \r\n        if (!this.data.target) { return; }\r\n        if (!NAF.utils.isMine(this.el)) { return; }\r\n\r\n        const scale = 0.1 * (delta / 1000);\r\n\r\n        this.mesh.scale.addScalar(scale);\r\n        this.mesh.scale.set(this.mesh.scale.x, this.mesh.scale.y, 1);\r\n        this.mesh.matrixAutoUpdate = true;\r\n        */\r\n    }\r\n});","import \"./components/barge-button\";\r\nimport \"./components/barge-clock\";\r\nimport \"./components/barge-slot\";\r\nimport \"./components/barge-data\";\r\nimport \"./components/world-mover\";\r\nimport \"./components/halo\";\r\n\r\nconst FEATURE_BARGE = true;\r\nconst FEATURE_HALO = false;\r\n\r\n// Barge\r\nwindow.APP.scene.addEventListener(\"environment-scene-loaded\", () => {\r\n  if (FEATURE_BARGE) {\r\n    // Button\r\n    let button = document.createElement(\"a-entity\");\r\n    let position = document.querySelector(\".startButton\").object3D.position.add(new THREE.Vector3(0, 0.5, 0))\r\n\r\n    button.setAttribute(\"socialvr-barge-button\", \"text: Start; radius: 0.3; color: #C576F6; phaseID: 1\");\r\n    button.setAttribute(\"position\", position);\r\n    window.APP.scene.appendChild(button);\r\n\r\n    // Button\r\n    button = document.createElement(\"a-entity\");\r\n    position = document.querySelector(\".CompleteButton_phase1\").object3D.position.add(new THREE.Vector3(0, 0.5, 0))\r\n\r\n    button.setAttribute(\"socialvr-barge-button\", \"text: Next Task; radius: 0.3; color: #C576F6; phaseID: 2\");\r\n    button.setAttribute(\"position\", position);\r\n    window.APP.scene.appendChild(button);\r\n\r\n    // Button\r\n    button = document.createElement(\"a-entity\");\r\n    position = document.querySelector(\".CompleteButton_phase2\").object3D.position.add(new THREE.Vector3(0, 0.5, 0))\r\n\r\n    button.setAttribute(\"socialvr-barge-button\", \"text: Next Task; radius: 0.3; color: #C576F6; phaseID: 3\");\r\n    button.setAttribute(\"position\", position);\r\n    window.APP.scene.appendChild(button);\r\n\r\n    // Button\r\n    button = document.createElement(\"a-entity\");\r\n    position = document.querySelector(\".CompleteButton_phase3\").object3D.position.add(new THREE.Vector3(0, 0.5, 0))\r\n\r\n    button.setAttribute(\"socialvr-barge-button\", \"text: Complete; radius: 0.3; color: #C576F6; phaseID: 4\");\r\n    button.setAttribute(\"position\", position);\r\n    window.APP.scene.appendChild(button);\r\n\r\n    // Clock\r\n    const clock = document.createElement(\"a-entity\");\r\n    clock.setAttribute(\"radius\", 0.1);\r\n    clock.setAttribute(\"socialvr-barge-clock\", \"\");\r\n    clock.setAttribute(\"position\", document.querySelector(\".clock-placeholder\").object3D.position);\r\n    window.APP.scene.appendChild(clock);\r\n\r\n    // Ranking Slots\r\n    for (let index = 1; index <= 3; index++) {\r\n      const slot = document.createElement(\"a-entity\");\r\n      slot.setAttribute(\"position\", { x: 0, y: -1 + (0.4 * index), z: 0 });\r\n      slot.setAttribute(\"socialvr-barge-slot\", `type: knowledge; rank: ${4 - index}`);\r\n      document.querySelector(\".knowledgeFrame_phase1\").appendChild(slot);\r\n    }\r\n\r\n    for (let index = 1; index <= 3; index++) {\r\n      const slot = document.createElement(\"a-entity\");\r\n      slot.setAttribute(\"position\", { x: 0, y: -1 + (0.4 * index), z: 0 });\r\n      slot.setAttribute(\"socialvr-barge-slot\", `type: abilities; rank: ${4 - index}`);\r\n      document.querySelector(\".KSA_ranking_frameglb_1_phase1\").appendChild(slot);\r\n    }\r\n\r\n    for (let index = 1; index <= 3; index++) {\r\n      const slot = document.createElement(\"a-entity\");\r\n      slot.setAttribute(\"position\", { x: 0, y: -1 + (0.4 * index), z: 0 });\r\n      slot.setAttribute(\"socialvr-barge-slot\", `type: skills; rank: ${4 - index}`);\r\n      document.querySelector(\".KSA_ranking_frameglb_phase1\").appendChild(slot);\r\n    }\r\n\r\n    // Canidate Slot\r\n    const slot = document.createElement(\"a-entity\");\r\n    slot.setAttribute(\"socialvr-barge-slot\", `type: canidate; rank: 1; width: 0.5; height: 1; depth: 1;`);\r\n    document.querySelector(\".candidate_frameglb_phase3\").appendChild(slot);\r\n\r\n    // World Mover\r\n    const worldMover = document.createElement(\"a-entity\");\r\n    worldMover.setAttribute(\"socialvr-world-mover\", \"\");\r\n    window.APP.scene.appendChild(worldMover);\r\n\r\n    // Data Logger\r\n    const dataLogger = document.createElement(\"a-entity\");\r\n    dataLogger.setAttribute(\"socialvr-barge-data\", \"\");\r\n    window.APP.scene.appendChild(dataLogger);\r\n\r\n    // Override command\r\n    window.logBargeData = () => {\r\n      window.APP.scene.emit(\"generateDataEvent\");\r\n    }\r\n\r\n    // Changes camera inspection system to show background, regardless of user preferences.\r\n    const cameraSystem = window.APP.scene.systems[\"hubs-systems\"].cameraSystem;\r\n    cameraSystem.lightsEnabled = true;\r\n\r\n    // Disable floaty physics\r\n    window.APP.scene.addEventListener(\"object_spawned\", (e) => {\r\n      const floaties = document.querySelectorAll(\"[floaty-object]\");\r\n\r\n      floaties.forEach((floaty) => {\r\n        floaty.setAttribute(\"floaty-object\", {\r\n          reduceAngularFloat: true,\r\n          autoLockOnRelease: true,\r\n          gravitySpeedLimit: 0\r\n        });\r\n      });\r\n    });\r\n  }\r\n}, { once: true });\r\n\r\n// Halo\r\nwindow.APP.hubChannel.presence.onJoin(() => {\r\n  if (FEATURE_HALO) {\r\n    APP.componentRegistry[\"player-info\"].forEach((playerInfo) => {\r\n      if (!playerInfo.socialVRHalo) {\r\n        // TODO: replace with API Call\r\n        console.log('attending')\r\n        console.log(playerInfo)\r\n      }\r\n    })\r\n  }\r\n});\r\n"],"names":["AFRAME","registerComponent","schema","text","type","default","eventName","phaseID","radius","color","init","this","geometry","THREE","SphereGeometry","data","material","MeshStandardMaterial","roughness","mesh","Mesh","el","setObject3D","setAttribute","classList","add","document","createElement","appendChild","onClick","bind","object3D","addEventListener","remove","removeEventListener","sceneEl","emit","detail","systems","soundEffectsSystem","playSoundOneShot","MeshBasicMaterial","alphaTest","visible","text2","tick","time","Date","hours","getHours","minutes","getMinutes","ampm","rank","consumed","width","height","depth","BoxGeometry","transparent","opacity","getObject3D","started","phaseEvents","clockEvents","knowledge_ranks","skills_ranks","abilities_ranks","selected_canidate","pov_raycaster","Raycaster","last_clock_time","knowledge_blocks","name","model","skills_blocks","abilities_blocks","canidate_blocks","forEach","item","distance","e","_logPhaseEvent","call","NAF","connection","subscribeToDataChannel","logPhaseEvent","_logClockEvent","logClockEvent","_generateData","generateData","tock","setFromCamera","Vector2","getElementById","object3DMap","camera","now","clock","querySelector","playerInfo","querySelectorAll","components","intersectObject","length","displayName","playerSessionId","generate","slotPosition","Vector3","slot","getWorldPosition","interactable","src","distanceToSquared","sort","a","b","started_at","completed_at","knowledge","skills","abilities","canidate","phase_events","clock_events","console","log","JSON","stringify","broadcastDataGuaranteed","senderId","dataType","phase","timestamp","element","parentNode","removeChild","push","sessionID","moving","destinations","currentDestination","direction","speed","lastCheck","i","waypoint","position","negate","warn","_start","_stop","start","stop","window","APP","utils","GLTFModelPlus","loadModel","then","scene","finally","skybox","removeObject3D","sky","ShaderMaterial","side","BackSide","fog","uniforms","color1","value","Color","color2","vertexShader","fragmentShader","catch","error","delta","target","copy","sub","multiplyScalar","x","y","z","isNaN","removeImages","includes","TorusGeometry","rotateX","Math","degToRad","localAudioAnalyser","componentRegistry","continuousSpeechTime","continuousSpeechLeniencyTime","muted","volume","alert","button","index","worldMover","dataLogger","logBargeData","cameraSystem","lightsEnabled","floaty","reduceAngularFloat","autoLockOnRelease","gravitySpeedLimit","once","hubChannel","presence","onJoin"],"mappings":"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"}