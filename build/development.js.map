{"version":3,"file":"development.js","sources":["../src/components/toolbox-button.js","../src/components/barge.js","../src/systems/barge.js","../src/components/barge-button.js","../src/main.js"],"sourcesContent":["// button for turning specified social VR systems on and off\r\n\r\nAFRAME.registerComponent(\"socailvr-toolbox-button\", {\r\n  dependencies: [\"is-remote-hover-target\", \"hoverable-visuals\"],\r\n\r\n  schema: {type: \"string\", default: \"Barge\"},\r\n\r\n  init: function() {\r\n    // button text\r\n    const textEl = document.createElement(\"a-entity\");\r\n    textEl.setAttribute(\"text\", `value: ${this.data.toUpperCase()}; align: center; color: black`);\r\n    textEl.setAttribute(\"rotation\", \"0 270 0\");\r\n    textEl.setAttribute(\"position\", \"0 0.4 0\");\r\n    this.el.appendChild(textEl);\r\n\r\n    this.onClick = this.onClick.bind(this);\r\n    this.el.object3D.addEventListener(\"interact\", this.onClick);\r\n\r\n    // precondition: barge already in the scene\r\n    this.barge = this.el.sceneEl.systems[\"socialvr-barge\"].barge;\r\n    \r\n    NAF.connection.subscribeToDataChannel(\"createBarge\", this.createBarge.bind(this));\r\n    NAF.connection.subscribeToDataChannel(\"removeBarge\", this.removeBarge.bind(this));\r\n  },\r\n\r\n  remove: function() {\r\n    this.el.object3D.removeEventListener(\"interact\", this.onClick);\r\n    NAF.connection.unsubscribeToDataChannel(\"createBarge\");\r\n    NAF.connection.unsubscribeToDataChannel(\"removeBarge\");\r\n  },\r\n\r\n  onClick: function() {\r\n    this.el.sceneEl.systems[\"hubs-systems\"].soundEffectsSystem.playPositionalSoundFollowing(\r\n      11,\r\n      this.el.object3D\r\n    );\r\n\r\n    switch (this.data) {\r\n      case \"Barge\":\r\n        if (this.barge.getAttribute(\"visible\")) {\r\n          this.removeBarge();\r\n          NAF.connection.broadcastData(\"removeBarge\", {});\r\n        } else {\r\n          this.createBarge();\r\n          NAF.connection.broadcastData(\"createBarge\", {});          \r\n        }\r\n\r\n      default:\r\n        console.log(`Invalid social VR system ${this.data}`);\r\n    }\r\n  },\r\n\r\n  createBarge() {\r\n    this.barge.setAttribute(\"visible\", true);\r\n    this.barge.play();\r\n  },\r\n\r\n  removeBarge() {\r\n    this.barge.emit(\"resetBargeEvent\");   // current behavior: onboard passengers teleport back to spawn\r\n    this.barge.setAttribute(\"visible\", false);\r\n    this.barge.pause();\r\n  }\r\n});","// responsible for barge children creation and movement\r\n\r\nlet positions = [];\r\nlet lastKeyChange = 0;\r\nlet shouldAvatarBeInBargeMode = false;\r\n\r\nconst width = 30;\r\nconst depth = 30;\r\n\r\nfunction moveWithBox(parent, child, direction, isAvatar) {\r\n  const parentPosition = parent.object3D?.position;\r\n  const childPosition = child.object3D?.position;\r\n\r\n  const minX = parentPosition.x - width;\r\n  const maxX = parentPosition.x + width;\r\n  const minZ = parentPosition.z - depth;\r\n  const maxZ = parentPosition.z + depth;\r\n  \r\n  // Don't bring \"removefrombarge\" objects.\r\n  if (child.className.search(/removefrombarge/i) < 0) {\r\n    if (childPosition.x >= minX && childPosition.x <= maxX && childPosition.z >= minZ && childPosition.z <= maxZ) {\r\n      if (isAvatar) {\r\n        child.setAttribute(\"position\", {\r\n          x: childPosition.x + direction.x,\r\n          y: parentPosition.y + window.APP.utils.getCurrentPlayerHeight() / 2.7,\r\n          z: childPosition.z + direction.z\r\n        });\r\n      } else {\r\n        child.setAttribute(\"position\", {\r\n          x: childPosition.x + direction.x,\r\n          y: childPosition.y + direction.y,\r\n          z: childPosition.z + direction.z\r\n        });\r\n      }\r\n  \r\n      return true;\r\n    }\r\n  }\r\n\r\n  return false;\r\n}\r\n\r\nAFRAME.registerComponent(\"socialvr-barge\", {\r\n  schema: {\r\n    speed: { type: \"number\", default: 1 },\r\n    moving: { type: \"boolean\", default: false },\r\n    targetKey: { type: \"number\", default: 0 }\r\n  },\r\n\r\n  init() {\r\n    const scene = document.querySelector(\"a-scene\");\r\n\r\n    this.direction = new window.APP.utils.THREE.Vector3();\r\n\r\n    // Reset Button\r\n    const buttonResetEl = document.createElement(\"a-entity\");\r\n    buttonResetEl.setAttribute(\"socialvr-barge-button\", \"text: Reset; eventName: resetBargeEvent; radius: 0.15; color: #3B56DC\");\r\n    buttonResetEl.setAttribute(\"position\", {\r\n      x: this.el.object3D.position.x + (2 - 0.2),\r\n      y: this.el.object3D.position.y + 1,\r\n      z: this.el.object3D.position.z\r\n    });\r\n\r\n    // Start Button\r\n    const buttonGoEl = document.createElement(\"a-entity\");\r\n    buttonGoEl.setAttribute(\"socialvr-barge-button\", \"text: Go; eventName: startBargeEvent; radius: 0.15; color: #32CD32\");\r\n    buttonGoEl.setAttribute(\"position\", {\r\n      x: this.el.object3D.position.x + (2 - 0.2),\r\n      y: this.el.object3D.position.y + 1,\r\n      z: this.el.object3D.position.z + 1 // Right\r\n    });\r\n    \r\n    // Stop Button\r\n    const buttonStopEl = document.createElement(\"a-entity\");\r\n    buttonStopEl.setAttribute(\"socialvr-barge-button\", \"text: Stop; eventName: stopBargeEvent; radius: 0.15; color: #FF0000\");\r\n    buttonStopEl.setAttribute(\"position\", {\r\n      x: this.el.object3D.position.x + (2 - 0.2),\r\n      y: this.el.object3D.position.y + 1,\r\n      z: this.el.object3D.position.z - 1 // Left\r\n    });\r\n    \r\n    //scene.appendChild(buttonResetEl);\r\n    //scene.appendChild(buttonGoEl);\r\n    //scene.appendChild(buttonStopEl);\r\n\r\n    // Client\r\n    scene.addEventListener(\"startBargeEvent\", this.startBarge.bind(this));\r\n    scene.addEventListener(\"stopBargeEvent\", this.stopBarge.bind(this));\r\n    scene.addEventListener(\"resetBargeEvent\", this.resetBarge.bind(this));\r\n\r\n    // Broadcast Event\r\n    NAF.connection.subscribeToDataChannel(\"startBarge\", this._startBarge.bind(this));\r\n    NAF.connection.subscribeToDataChannel(\"stopBarge\", this._stopBarge.bind(this));\r\n    NAF.connection.subscribeToDataChannel(\"resetBarge\", this._resetBarge.bind(this));\r\n\r\n    this.system.register(this.el);\r\n  },\r\n\r\n  remove() {\r\n    const scene = document.querySelector(\"a-scene\");\r\n\r\n    scene.removeEventListener(\"startBargeEvent\", this.startBarge.bind(this));\r\n    scene.removeEventListener(\"stopBargeEvent\", this.stopBarge.bind(this));\r\n    scene.removeEventListener(\"resetBargeEvent\", this.resetBarge.bind(this));\r\n\r\n    NAF.connection.unsubscribeToDataChannel(\"startBarge\");\r\n    NAF.connection.unsubscribeToDataChannel(\"stopBarge\");\r\n    NAF.connection.unsubscribeToDataChannel(\"resetBarge\");\r\n\r\n    this.el.removeObject3D(\"mesh\");\r\n    this.system.unregister();\r\n  },\r\n\r\n  tick(t, dt) {\r\n    // TODO: more elegant solution?\r\n    if (this.el.getAttribute(\"visible\")) {\r\n      this.el.play();\r\n    } else {\r\n      this.el.pause();\r\n    }\r\n\r\n    shouldAvatarBeInBargeMode = false;\r\n    const position = this.el.object3D.position;\r\n\r\n    if (this.data.moving) {\r\n      const targetPosition = positions[this.data.targetKey];\r\n      const direction = this.direction;\r\n\r\n      if (!targetPosition) {\r\n        this.data.moving = false;\r\n        return;\r\n      }\r\n\r\n      direction.copy(targetPosition).sub(position);\r\n      if (position.distanceToSquared(targetPosition) >= 1) {\r\n        // Barge movement\r\n        const factor = this.data.speed / direction.length();\r\n        direction.multiplyScalar(factor * (dt / 1000));\r\n\r\n        // Mesh movement\r\n        this.el.setAttribute(\"position\", {\r\n          x: position.x + direction.x,\r\n          y: position.y + direction.y,\r\n          z: position.z + direction.z\r\n        });\r\n\r\n        // Child Movement\r\n        const children = document.querySelectorAll('[socialvr-barge-child=\"\"]');\r\n\r\n        children.forEach((child) => {\r\n          moveWithBox(this.el, child, direction, false);\r\n        });\r\n\r\n        // Floaty Movement\r\n        const floaties = document.querySelectorAll('[floaty-object=\"\"]');\r\n\r\n        floaties.forEach((floaty) => {\r\n          moveWithBox(this.el, floaty, direction, false);\r\n        });\r\n\r\n        // Interactable Movement\r\n        const interactables = document.querySelectorAll('[interactable=\"\"]');\r\n\r\n        interactables.forEach((interactable) => {\r\n          moveWithBox(this.el, interactable, direction, false);\r\n        });\r\n\r\n        // Avatar Movement\r\n        shouldAvatarBeInBargeMode = moveWithBox(this.el, window.APP.componentRegistry[\"player-info\"][0].el, direction, true);\r\n      } else {\r\n        // NaN check\r\n        if (isNaN(lastKeyChange) || t >= lastKeyChange) {\r\n          lastKeyChange = t + 100;\r\n          this.data.targetKey = this.data.targetKey + 1;\r\n        }\r\n\r\n        // console.log(t);\r\n        // console.log(this.data.targetKey);\r\n      }\r\n    }\r\n  },\r\n\r\n  _startBarge(senderId, dataType, data, targetId) {\r\n    positions = [];\r\n\r\n    for (let i = 0; i < 100; i++) {\r\n      const wp = document.querySelector(\".Waypoint_\" + i);\r\n\r\n      if (wp) {\r\n        positions.push(wp.object3D.position);\r\n      }\r\n    }\r\n\r\n    if (positions.length >= 1) {\r\n      console.log(`Registered ${positions.length} waypoints for the barge.`);\r\n    } else {\r\n      console.warn(\"No waypoints found!\");\r\n      console.warn(\"Registering some default waypoints for the barge.\");\r\n\r\n      positions.push(new window.APP.utils.THREE.Vector3(10, 0, 0));\r\n      positions.push(new window.APP.utils.THREE.Vector3(10, 0, 20));\r\n      positions.push(new window.APP.utils.THREE.Vector3(-10, 10, 20));\r\n      positions.push(new window.APP.utils.THREE.Vector3(-10, 20, 30));\r\n    }\r\n\r\n    console.log(positions);\r\n    this.data.moving = true;\r\n    this.el.sceneEl.systems[\"hubs-systems\"].characterController.fly = true;\r\n  },\r\n\r\n  // eslint-disable-next-line no-unused-vars\r\n  _stopBarge(senderId, dataType, data, targetId) {\r\n    this.data.moving = false;\r\n  },\r\n\r\n  // eslint-disable-next-line no-unused-vars\r\n  _resetBarge(senderId, dataType, data, targetId) {\r\n    this.data.targetKey = 0;\r\n    this.data.moving = false;\r\n\r\n    this.el.setAttribute(\"position\", new window.APP.utils.THREE.Vector3(0, 0, 0));\r\n    avatar.el.setAttribute(\"position\", new window.APP.utils.THREE.Vector3(0, 0, 0));\r\n    shouldAvatarBeInBargeMode = false;\r\n  },\r\n\r\n  startBarge() {\r\n    this._startBarge(null, null, {});\r\n    NAF.connection.broadcastData(\"startBarge\", {});\r\n  },\r\n\r\n  stopBarge() {\r\n    this._stopBarge(null, null, {});\r\n    NAF.connection.broadcastData(\"stopBarge\", {});\r\n  },\r\n\r\n  resetBarge() {\r\n    this._resetBarge(null, null, {});\r\n    NAF.connection.broadcastData(\"resetBarge\", {});\r\n  }\r\n});\r\n","// responsible for barge creation and advancing phase\r\n\r\nAFRAME.registerSystem(\"socialvr-barge\", {\r\n  init: function () {\r\n    console.log(\"[Social VR] Barge System - Initialized\")\r\n\r\n    this.barge = null;\r\n    this.phase = 0;\r\n  },\r\n\r\n  register: function (el) {\r\n    if (this.barge != null) {\r\n      this.el.removeChild(this.barge);\r\n    }\r\n\r\n    this.barge = el;\r\n  },\r\n\r\n  unregister: function () {\r\n    this.barge = null;\r\n  },\r\n});\r\n\r\nfunction LoadAndAttach(data, barge, spokeSerial) {\r\n  let transform = data.components.find(el => el.name === \"transform\");\r\n  // let visible = data.components.find(el => el.name === \"visible\");\r\n\r\n  if (transform) {\r\n    let gltf = data.components.find(el => el.name === \"gltf-model\");\r\n    let spawner = data.components.find(el => el.name === \"spawner\");\r\n    let image = data.components.find(el => el.name === \"image\");\r\n\r\n    let position = new window.APP.utils.THREE.Vector3(transform.props.position.x, transform.props.position.y, transform.props.position.z);\r\n    let rotation = new window.APP.utils.THREE.Euler(transform.props.rotation.x, transform.props.rotation.y, transform.props.rotation.z, \"XYZ\");\r\n    let scale = new window.APP.utils.THREE.Vector3(transform.props.scale.x, transform.props.scale.y, transform.props.scale.z);\r\n\r\n    // GLTF\r\n    if (gltf) {\r\n      if (data.name === \"barge-model\") {\r\n        barge.object3D.position.copy(position);\r\n        barge.object3D.rotation.copy(rotation);\r\n        barge.object3D.scale.copy(scale);\r\n        barge.object3D.matrixNeedsUpdate = true;\r\n  \r\n        window.APP.utils.GLTFModelPlus\r\n        .loadModel(gltf.props.src)\r\n        .then((model) => {\r\n          barge.setObject3D(\"mesh\", window.APP.utils.threeUtils.cloneObject3D(model.scene, false));\r\n        })\r\n        .catch((e) => {\r\n          console.error(e);\r\n        });\r\n      } else {\r\n        const { entity } = window.APP.utils.addMedia(gltf.props.src, \"#static-media\", 1, null, false, false, true, {}, false);\r\n        \r\n        entity.setAttribute(\"socialvr-barge-child\", \"\");\r\n        entity.object3D.position.copy(position);\r\n        entity.object3D.rotation.copy(rotation);\r\n        entity.object3D.scale.copy(scale);\r\n        entity.object3D.matrixNeedsUpdate = true;\r\n\r\n        // Phase Index\r\n        const phaseIndex = data.name.search(/phase/i);\r\n\r\n        if (phaseIndex >= 0) {\r\n          const phase = data.name.slice(phaseIndex).split(\" \")[0].trim().toLowerCase();\r\n      \r\n          if (phase === \"phase1\" || phase === \"phase2\" || phase === \"phase3\") {\r\n            console.log(`Added ${data.name} to ${phase}`);\r\n            entity.classList.add(`${phase}`);\r\n          }\r\n        }\r\n\r\n        // Phase Buttons\r\n        if (data.name === \"startButton\") {\r\n          const button = document.createElement(\"a-entity\");\r\n          const scene = document.querySelector(\"a-scene\");\r\n\r\n          button.setAttribute(\"socialvr-barge-button\", \"text: Begin; radius: 0.4; color: #C576F6; phaseID: 1\");\r\n          button.setAttribute(\"position\", position.add(new window.APP.utils.THREE.Vector3(0, 1, 0)));\r\n          scene.appendChild(button);\r\n        } else if (data.name === \"phase1Com phase1pleteButton\") {\r\n          const button = document.createElement(\"a-entity\");\r\n          const scene = document.querySelector(\"a-scene\");\r\n\r\n          button.classList.add(\"phase1\");\r\n          button.setAttribute(\"socialvr-barge-button\", \"text: Done; radius: 0.4; color: #C576F6; phaseID: 2\");\r\n          button.setAttribute(\"position\", position.add(new window.APP.utils.THREE.Vector3(0, 1, 0)));\r\n          scene.appendChild(button);\r\n        } else if (data.name === \"phase2CompleteButton phase2\") {\r\n          const button = document.createElement(\"a-entity\");\r\n          const scene = document.querySelector(\"a-scene\");\r\n\r\n          button.classList.add(\"phase2\");\r\n          button.setAttribute(\"socialvr-barge-button\", \"text: Done; radius: 0.4; color: #C576F6; phaseID: 3\");\r\n          button.setAttribute(\"position\", position.add(new window.APP.utils.THREE.Vector3(0, 1, 0)));\r\n          scene.appendChild(button);\r\n        }\r\n      }\r\n    }\r\n\r\n    // Spawners\r\n    if (spawner) {\r\n      // No duplicate network objects\r\n      if (document.getElementById(spokeSerial) == null) {\r\n        const { entity } = window.APP.utils.addMedia(spawner.props.src, \"#static-media\", 1, null, false, false, true, {}, false);\r\n\r\n        entity.id = spokeSerial\r\n        entity.object3D.position.copy(position);\r\n        entity.object3D.rotation.copy(rotation);\r\n        entity.object3D.scale.copy(scale);\r\n        entity.object3D.matrixNeedsUpdate = true;\r\n\r\n        entity.classList.add(\"interactable\");\r\n        entity.setAttribute(\"is-remote-hover-target\", \"\");\r\n        entity.setAttribute(\"hoverable-visuals\", \"\");\r\n        entity.setAttribute(\"floaty-object\", \"modifyGravityOnRelease: true; autoLockOnLoad: true; autoLockOnRelease: true;\");\r\n        entity.setAttribute(\"set-unowned-body-kinematic\", \"\");\r\n        entity.setAttribute(\"body-helper\", \"type: dynamic; mass: 1; collisionFilterGroup: 1; collisionFilterMask: 15;\");\r\n        entity.setAttribute(\"tags\", \"isHandCollisionTarget: true; isHoldable: true; offersHandConstraint: true; offersRemoteConstraint: true; inspectable: true;\");\r\n  \r\n        // Phase Index\r\n        const phaseIndex = data.name.search(/phase/i);\r\n  \r\n        if (phaseIndex >= 0) {\r\n          const phase = data.name.slice(phaseIndex).split(\" \")[0].trim().toLowerCase();\r\n          \r\n          if (phase === \"phase1\" || phase === \"phase2\" || phase === \"phase3\") {\r\n            console.log(`Added ${data.name} to ${phase}.`);\r\n            entity.classList.add(`${phase}`);\r\n          }\r\n        }\r\n      } else {\r\n        console.warn(spokeSerial);\r\n      }\r\n    }\r\n\r\n    // Images\r\n    if (image) {\r\n      // No duplicate network objects\r\n      if (document.getElementById(spokeSerial) == null) {\r\n        const { entity } = window.APP.utils.addMedia(image.props.src, \"#static-media\", 1, null, false, false, true, {}, false);\r\n\r\n        entity.id = spokeSerial\r\n        entity.object3D.position.copy(position);\r\n        entity.object3D.rotation.copy(rotation);\r\n        entity.object3D.scale.copy(scale);\r\n        entity.object3D.matrixNeedsUpdate = true;\r\n        entity.classList.add(\"interactable\");\r\n  \r\n        // Phase Index\r\n        const phaseIndex = data.name.search(/phase/i);\r\n  \r\n        if (phaseIndex >= 0) {\r\n          const phase = data.name.slice(phaseIndex).split(\" \")[0].trim().toLowerCase();\r\n          \r\n          if (phase === \"phase1\" || phase === \"phase2\" || phase === \"phase3\") {\r\n            console.log(`Added ${data.name} to ${phase}.`);\r\n            entity.classList.add(`${phase}`);\r\n          }\r\n        }\r\n      } else {\r\n        console.warn(spokeSerial);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// toggle: true/false\r\nexport function ChangePhase(senderId, dataType, data, targetId) {\r\n  const phase1 = document.querySelectorAll(\".phase1\");\r\n  const phase2 = document.querySelectorAll(\".phase2\");\r\n  const phase3 = document.querySelectorAll(\".phase3\");\r\n\r\n  // Index 0: Initial phase, nothing visible.\r\n  if (data.index <= 0) {\r\n    phase1.forEach(el => {\r\n      el.object3D.visible = false;\r\n    });\r\n\r\n    phase2.forEach(el => {\r\n      el.object3D.visible = false;\r\n    });\r\n\r\n    phase3.forEach(el => {\r\n      el.object3D.visible = false;\r\n    });\r\n  }\r\n\r\n  // Phase 1\r\n  if (data.index == 1) {\r\n    console.log(\"Phase 1 Started\");\r\n    \r\n    phase1.forEach(el => {\r\n      el.object3D.visible = true;\r\n    });\r\n  }\r\n\r\n  // Phase 2\r\n  else if (data.index == 2) {\r\n    console.log(\"Phase 2 Started\");\r\n\r\n    phase2.forEach(el => {\r\n      el.object3D.visible = true;\r\n    });\r\n  }\r\n\r\n  // Phase 3\r\n  else if (data.index == 3) {\r\n    console.log(\"Phase 3 Started\");\r\n\r\n    phase3.forEach(el => {\r\n      el.object3D.visible = true;\r\n    });\r\n  }\r\n\r\n  const bargeButtons = document.querySelectorAll('[socialvr-barge-button=\"\"]');\r\n\r\n  bargeButtons.forEach((button) => {\r\n    const d = button.components[\"socialvr-barge-button\"].data\r\n\r\n    if (d) {\r\n      if (d.phaseID <= data.index) {\r\n        button.object3D.visible = true;\r\n        button.classList.remove(\"interactable\");\r\n        button.removeAttribute(\"animation__spawner-cooldown\");\r\n        button.setAttribute(\"animation__spawner-cooldown\", {\r\n          property: \"scale\",\r\n          delay: 0,\r\n          dur: 350,\r\n          from: { x: 1, y: 1, z: 1 },\r\n          to: { x: 0.001, y: 0.001, z: 0.001 },\r\n          easing: \"easeInElastic\"\r\n        });\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\nexport function CreateBarge() {\r\n  // Barge: invisible, paused\r\n  const barge = document.createElement(\"a-entity\");\r\n  barge.setAttribute(\"socialvr-barge\", \"\");\r\n  barge.setAttribute(\"visible\", true);\r\n\r\n  // toolbox button\r\n  const bargeToolboxButton = document.createElement(\"a-sphere\");\r\n  bargeToolboxButton.setAttribute(\"socialvr-toolbox-button\", \"Barge\");\r\n  bargeToolboxButton.setAttribute(\"radius\", \"0.3\");\r\n  bargeToolboxButton.setAttribute(\"material\", \"color: pink\");\r\n  bargeToolboxButton.setAttribute(\"tags\", \"singleActionButton: true\");\r\n  bargeToolboxButton.setAttribute(\"css-class\", \"interactable\");\r\n  bargeToolboxButton.setAttribute(\"position\", {\r\n    x: 5,\r\n    y: 2,\r\n    z: 3\r\n  });\r\n\r\n  fetch(\"https://statuesque-rugelach-4185bd.netlify.app/assets/barge-master-for-export-5-3-2022_1647.spoke\")\r\n    .then(response => {\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      for (const [key, entity] of Object.entries(data.entities)) {\r\n        LoadAndAttach(entity, barge, encodeURIComponent(key));\r\n      }\r\n    })\r\n    .then(() => {\r\n      // Broadcast Event\r\n      NAF.connection.subscribeToDataChannel(\"changePhase\", ChangePhase);\r\n\r\n      ChangePhase(null, null, {index: 0});\r\n      NAF.connection.broadcastData(\"changePhase\", {\r\n        index: 0\r\n      });\r\n    })\r\n    .catch((e) => {\r\n      console.error(e);\r\n    });\r\n\r\n  return [barge, bargeToolboxButton];\r\n}","import { ChangePhase } from \"../systems/barge\";\r\n\r\nAFRAME.registerComponent(\"socialvr-barge-button\", {\r\n  dependencies: [\"is-remote-hover-target\", \"hoverable-visuals\"],\r\n  \r\n  // start, stop, reset\r\n  schema: {\r\n    text: {\r\n      type: \"string\", \r\n      default: \"start\"\r\n    },\r\n    eventName: {\r\n      type: \"string\",\r\n      default: \"\"\r\n    },\r\n    phaseID: {\r\n      type: \"number\",\r\n      default: -1\r\n    },\r\n    radius: {\r\n      type: \"number\",\r\n      default: 0.2\r\n    },\r\n    color: {\r\n      type: \"color\",\r\n      default: \"#FFF\"\r\n    }\r\n  },\r\n\r\n  init: function() {\r\n    var data = this.data;\r\n    var el = this.el;\r\n\r\n    // Geometry\r\n    this.geometry = new THREE.SphereGeometry(data.radius, 16, 8);\r\n    this.material = new THREE.MeshStandardMaterial({\r\n      color: data.color,\r\n      roughness: 0.5,\r\n    });\r\n    this.mesh = new THREE.Mesh(this.geometry, this.material);\r\n\r\n    el.setObject3D('mesh', this.mesh);\r\n    el.setAttribute(\"tags\", \"singleActionButton: true\");\r\n    el.setAttribute(\"socialvr-barge-child\", \"\");\r\n    el.classList.add(\"interactable\");\r\n\r\n    // Text\r\n    this.text = document.createElement(\"a-entity\");\r\n    this.text.setAttribute(\"text\", `value: ${this.data.text}; align: center; side: double; width: 2;`);\r\n    this.text.setAttribute(\"rotation\", \"0 0 0\");\r\n    this.text.setAttribute(\"position\", `0 ${this.data.radius + 0.2} 0`);\r\n    el.appendChild(this.text);\r\n    \r\n    this.onClick = this.onClick.bind(this);\r\n    this.el.object3D.addEventListener(\"interact\", this.onClick);\r\n  },\r\n\r\n  tick: function (time, timeDelta) {\r\n    this.text.setAttribute(\"rotation\", `0 ${time * 0.1} 0`);\r\n  },\r\n\r\n  remove: function() {\r\n    this.el.object3D.removeEventListener(\"interact\", this.onClick);\r\n  },\r\n\r\n  onClick: function() {\r\n    const scene = document.querySelector(\"a-scene\");\r\n\r\n    this.el.sceneEl.systems[\"hubs-systems\"].soundEffectsSystem.playPositionalSoundFollowing(\r\n      11,\r\n      this.el.object3D\r\n    );\r\n\r\n    if (this.data.phaseID >= 0) {\r\n      // Phase Button\r\n      ChangePhase(null, null, {index: this.data.phaseID});\r\n      NAF.connection.broadcastData(\"changePhase\", {\r\n        index: this.data.phaseID\r\n      });\r\n\r\n      // Phase 1 - Go\r\n      if (this.data.phaseID === 1) {\r\n        scene.emit(\"startBargeEvent\");\r\n      }\r\n    } else {\r\n      // Generic Button\r\n      scene.emit(this.data.eventName);\r\n    }\r\n  }\r\n});","import \"./components/toolbox-button\";\r\nimport \"./components/barge\";\r\nimport \"./components/barge-button\";\r\n\r\nimport \"./systems/barge\";\r\nimport { CreateBarge } from \"./systems/barge\";\r\n\r\nconst scene = document.querySelector(\"a-scene\");\r\nscene.addEventListener(\"environment-scene-loaded\", () => {\r\n  console.log(\"[Social VR] Barge - Create Barge\");\r\n\r\n  const [barge, bargeToolboxButton] = CreateBarge();\r\n  scene.appendChild(barge);\r\n  // scene.appendChild(bargeToolboxButton);\r\n\r\n  // Changes camera inspection system to show background, regardless of user preferences.\r\n  const cameraSystem = scene.systems[\"hubs-systems\"].cameraSystem;\r\n  cameraSystem.lightsEnabled = true;\r\n\r\n  // Floaty gravity change.\r\n  function disableFloatyPhysics() {\r\n    const floaties = document.querySelectorAll('[floaty-object=\"\"]');\r\n\r\n    floaties.forEach((floaty) => {\r\n      floaty.setAttribute(\"floaty-object\", { reduceAngularFloat: true, releaseGravity: 0, gravitySpeedLimit: 0 });\r\n    });\r\n  }\r\n\r\n  scene.addEventListener(\"object_spawned\", (e) => {\r\n    disableFloatyPhysics();\r\n  });\r\n\r\n  disableFloatyPhysics();\r\n}, { once: true })\r\n"],"names":[],"mappings":"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"}