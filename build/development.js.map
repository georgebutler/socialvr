{"version":3,"file":"development.js","sources":["../src/systems/barge.js","../src/components/barge-button.js","../src/components/world-mover.js","../src/main.js"],"sourcesContent":["// responsible for barge creation and advancing phase\r\n\r\nAFRAME.registerSystem(\"socialvr-barge\", {\r\n  init: function () {\r\n    console.log(\"[Social VR] Barge System - Initialized\")\r\n\r\n    this.barge = null;\r\n    this.phase = 0;\r\n  },\r\n\r\n  register: function (el) {\r\n    if (this.barge != null) {\r\n      this.el.removeChild(this.barge);\r\n    }\r\n\r\n    this.barge = el;\r\n  },\r\n\r\n  unregister: function () {\r\n    this.barge = null;\r\n  },\r\n});\r\n\r\nfunction LoadAndAttach(data, barge, spokeSerial) {\r\n  let transform = data.components.find(el => el.name === \"transform\");\r\n  // let visible = data.components.find(el => el.name === \"visible\");\r\n\r\n  if (transform) {\r\n    let gltf = data.components.find(el => el.name === \"gltf-model\");\r\n    let spawner = data.components.find(el => el.name === \"spawner\");\r\n    let image = data.components.find(el => el.name === \"image\");\r\n\r\n    let position = new window.APP.utils.THREE.Vector3(transform.props.position.x, transform.props.position.y, transform.props.position.z);\r\n    let rotation = new window.APP.utils.THREE.Euler(transform.props.rotation.x, transform.props.rotation.y, transform.props.rotation.z, \"XYZ\");\r\n    let scale = new window.APP.utils.THREE.Vector3(transform.props.scale.x, transform.props.scale.y, transform.props.scale.z);\r\n\r\n    // GLTF\r\n    if (gltf) {\r\n      if (data.name === \"barge-model\") {\r\n        barge.object3D.position.copy(position);\r\n        barge.object3D.rotation.copy(rotation);\r\n        barge.object3D.scale.copy(scale);\r\n        barge.object3D.matrixNeedsUpdate = true;\r\n\r\n        window.APP.utils.GLTFModelPlus\r\n          .loadModel(gltf.props.src)\r\n          .then((model) => {\r\n            barge.setObject3D(\"mesh\", window.APP.utils.threeUtils.cloneObject3D(model.scene, false));\r\n            barge.setAttribute(\"matrix-auto-update\", \"\");\r\n          })\r\n          .catch((e) => {\r\n            console.error(e);\r\n          });\r\n      }\r\n      else if (data.name === \"clock-placeholder\") {\r\n        const clock = document.createElement(\"a-entity\");\r\n        const scene = document.querySelector(\"a-scene\");\r\n\r\n        clock.setAttribute(\"socialvr-barge-clock\", \"\");\r\n        clock.setAttribute(\"position\", position.add(new window.APP.utils.THREE.Vector3(0, 2, 0)));\r\n        scene.appendChild(clock);\r\n      }\r\n      else {\r\n        const { entity } = window.APP.utils.addMedia(gltf.props.src, \"#static-media\", 1, null, false, false, true, {}, false);\r\n\r\n        entity.setAttribute(\"socialvr-barge-child\", \"\");\r\n        entity.setAttribute(\"set-unowned-body-kinematic\", \"\");\r\n        entity.setAttribute(\"body-helper\", \"type: dynamic; mass: 1; collisionFilterGroup: 1; collisionFilterMask: 15;\");\r\n        entity.setAttribute(\"matrix-auto-update\", \"\");\r\n        entity.object3D.position.copy(position);\r\n        entity.object3D.rotation.copy(rotation);\r\n        entity.object3D.scale.copy(scale);\r\n\r\n        // Phase Index\r\n        const phaseIndex = data.name.search(/phase/i);\r\n\r\n        if (phaseIndex >= 0) {\r\n          const phase = data.name.slice(phaseIndex).split(\" \")[0].trim().toLowerCase();\r\n\r\n          if (phase === \"phase1\" || phase === \"phase2\" || phase === \"phase3\" || phase === \"phase4\") {\r\n            console.log(`Added ${data.name} to ${phase}`);\r\n            entity.classList.add(`${phase}`);\r\n          }\r\n        }\r\n\r\n        // Phase Buttons\r\n        if (data.name === \"startButton\") {\r\n          const button = document.createElement(\"a-entity\");\r\n          const scene = document.querySelector(\"a-scene\");\r\n\r\n          button.setAttribute(\"socialvr-barge-button\", \"text: Start; radius: 0.3; color: #C576F6; phaseID: 1\");\r\n          button.setAttribute(\"position\", position.add(new window.APP.utils.THREE.Vector3(0, 0.5, 0)));\r\n          scene.appendChild(button);\r\n        } else if (data.name === \"phase1CompleteButton phase1\") {\r\n          const button = document.createElement(\"a-entity\");\r\n          const scene = document.querySelector(\"a-scene\");\r\n\r\n          button.classList.add(\"phase1\");\r\n          button.setAttribute(\"socialvr-barge-button\", \"text: Done; radius: 0.3; color: #C576F6; phaseID: 2\");\r\n          button.setAttribute(\"position\", position.add(new window.APP.utils.THREE.Vector3(0, 0.5, 0)));\r\n          scene.appendChild(button);\r\n        } else if (data.name === \"phase2CompleteButton phase2\") {\r\n          const button = document.createElement(\"a-entity\");\r\n          const scene = document.querySelector(\"a-scene\");\r\n\r\n          button.classList.add(\"phase2\");\r\n          button.setAttribute(\"socialvr-barge-button\", \"text: Done; radius: 0.3; color: #C576F6; phaseID: 3\");\r\n          button.setAttribute(\"position\", position.add(new window.APP.utils.THREE.Vector3(0, 0.5, 0)));\r\n          scene.appendChild(button);\r\n        } else if (data.name === \"phase3CompleteButton phase3\") {\r\n          const button = document.createElement(\"a-entity\");\r\n          const scene = document.querySelector(\"a-scene\");\r\n\r\n          button.classList.add(\"phase3\");\r\n          button.setAttribute(\"socialvr-barge-button\", \"text: Done; radius: 0.3; color: #C576F6; phaseID: 4\");\r\n          button.setAttribute(\"position\", position.add(new window.APP.utils.THREE.Vector3(0, 0.5, 0)));\r\n          scene.appendChild(button);\r\n        }\r\n      }\r\n    }\r\n\r\n    // Spawners\r\n    if (spawner) {\r\n      //const players = document.querySelectorAll(\"a-entity[player-info]\");\r\n      //const num = players.length;\r\n\r\n      //if (num == 1) {\r\n      const { entity } = window.APP.utils.addMedia(spawner.props.src, \"#interactable-media\", 1, null, false, false, true, {}, false);\r\n\r\n      entity.object3D.position.copy(position);\r\n      entity.object3D.rotation.copy(rotation);\r\n      entity.object3D.scale.copy(scale);\r\n      entity.object3D.matrixNeedsUpdate = true;\r\n\r\n      entity.classList.add(\"interactable\");\r\n      entity.setAttribute(\"is-remote-hover-target\", \"\");\r\n      entity.setAttribute(\"hoverable-visuals\", \"\");\r\n      entity.setAttribute(\"floaty-object\", \"modifyGravityOnRelease: true; autoLockOnLoad: true; autoLockOnRelease: true;\");\r\n      entity.setAttribute(\"set-unowned-body-kinematic\", \"\");\r\n      entity.setAttribute(\"body-helper\", \"type: dynamic; mass: 1; collisionFilterGroup: 1; collisionFilterMask: 15;\");\r\n      entity.setAttribute(\"matrix-auto-update\", \"\");\r\n      entity.setAttribute(\"tags\", \"isHandCollisionTarget: true; isHoldable: true; offersHandConstraint: true; offersRemoteConstraint: true; inspectable: true;\");\r\n      entity.setAttribute(\"networked\", \"template: #interactable-media\");\r\n\r\n      // Phase Index\r\n      const phaseIndex = data.name.search(/phase/i);\r\n\r\n      if (phaseIndex >= 0) {\r\n        const phase = data.name.slice(phaseIndex).split(\" \")[0].trim().toLowerCase();\r\n\r\n        if (phase === \"phase1\" || phase === \"phase2\" || phase === \"phase3\" || phase === \"phase4\") {\r\n          console.log(`Added ${data.name} to ${phase}.`);\r\n          entity.classList.add(`${phase}`);\r\n        } else {\r\n          console.warn(`Unknown phase: \"${phase}\"`);\r\n        }\r\n      }\r\n      //}\r\n    }\r\n\r\n    // Images\r\n    if (image) {\r\n      const { entity } = window.APP.utils.addMedia(image.props.src, \"#static-media\", 1, null, false, false, true, {}, false);\r\n\r\n      entity.object3D.position.copy(position);\r\n      entity.object3D.rotation.copy(rotation);\r\n      entity.object3D.scale.copy(scale);\r\n      entity.object3D.matrixNeedsUpdate = true;\r\n      entity.classList.add(\"interactable\");\r\n\r\n      // Phase Index\r\n      const phaseIndex = data.name.search(/phase/i);\r\n\r\n      if (phaseIndex >= 0) {\r\n        const phase = data.name.slice(phaseIndex).split(\" \")[0].trim().toLowerCase();\r\n\r\n        if (phase === \"phase1\" || phase === \"phase2\" || phase === \"phase3\" || phase === \"phase4\") {\r\n          console.log(`Added ${data.name} to ${phase}.`);\r\n          entity.classList.add(`${phase}`);\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// toggle: true/false\r\nexport function ChangePhase(senderId, dataType, data, targetId) {\r\n  const phase1 = document.querySelectorAll(\".phase1\");\r\n  const phase2 = document.querySelectorAll(\".phase2\");\r\n  const phase3 = document.querySelectorAll(\".phase3\");\r\n  const phase4 = document.querySelectorAll(\".phase4\");\r\n\r\n  // Index 0: Initial phase, nothing visible.\r\n  if (data.index <= 0) {\r\n    phase1.forEach(el => {\r\n      el.object3D.visible = false;\r\n    });\r\n\r\n    phase2.forEach(el => {\r\n      el.object3D.visible = false;\r\n    });\r\n\r\n    phase3.forEach(el => {\r\n      el.object3D.visible = false;\r\n    });\r\n\r\n    phase4.forEach(el => {\r\n      el.object3D.visible = false;\r\n    });\r\n  }\r\n\r\n  // Phase 1\r\n  else if (data.index == 1) {\r\n    console.log(\"Phase 1 Started\");\r\n\r\n    phase1.forEach(el => {\r\n      el.object3D.visible = true;\r\n    });\r\n  }\r\n\r\n  // Phase 2\r\n  else if (data.index == 2) {\r\n    console.log(\"Phase 2 Started\");\r\n\r\n    phase2.forEach(el => {\r\n      el.object3D.visible = true;\r\n    });\r\n  }\r\n\r\n  // Phase 3\r\n  else if (data.index == 3) {\r\n    console.log(\"Phase 3 Started\");\r\n\r\n    phase3.forEach(el => {\r\n      el.object3D.visible = true;\r\n    });\r\n  }\r\n\r\n  // Phase 4\r\n  else if (data.index == 4) {\r\n    console.log(\"Phase 4 Started\");\r\n\r\n    phase4.forEach(el => {\r\n      el.object3D.visible = true;\r\n    });\r\n  }\r\n\r\n  const bargeButtons = document.querySelectorAll('[socialvr-barge-button=\"\"]');\r\n\r\n  bargeButtons.forEach((button) => {\r\n    const d = button.components[\"socialvr-barge-button\"].data\r\n\r\n    if (d) {\r\n      if (d.phaseID <= data.index) {\r\n        button.object3D.visible = true;\r\n        button.classList.remove(\"interactable\");\r\n        button.removeAttribute(\"animation__spawner-cooldown\");\r\n        button.setAttribute(\"animation__spawner-cooldown\", {\r\n          property: \"scale\",\r\n          delay: 0,\r\n          dur: 350,\r\n          from: { x: 1, y: 1, z: 1 },\r\n          to: { x: 0.001, y: 0.001, z: 0.001 },\r\n          easing: \"easeInElastic\"\r\n        });\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\nexport function CreateBarge() {\r\n  // Barge: invisible, paused\r\n  const barge = document.createElement(\"a-entity\");\r\n  barge.setAttribute(\"socialvr-barge\", \"\");\r\n  barge.setAttribute(\"visible\", true);\r\n\r\n  // toolbox button\r\n  const bargeToolboxButton = document.createElement(\"a-sphere\");\r\n  bargeToolboxButton.setAttribute(\"socialvr-toolbox-button\", \"Barge\");\r\n  bargeToolboxButton.setAttribute(\"radius\", \"0.3\");\r\n  bargeToolboxButton.setAttribute(\"material\", \"color: pink\");\r\n  bargeToolboxButton.setAttribute(\"tags\", \"singleActionButton: true\");\r\n  bargeToolboxButton.setAttribute(\"css-class\", \"interactable\");\r\n  bargeToolboxButton.setAttribute(\"position\", {\r\n    x: 5,\r\n    y: 2,\r\n    z: 3\r\n  });\r\n\r\n  fetch(\"https://statuesque-rugelach-4185bd.netlify.app/assets/barge-master-for-export-5-2-22.spoke\")\r\n    .then(response => {\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      for (const [key, entity] of Object.entries(data.entities)) {\r\n        LoadAndAttach(entity, barge, encodeURIComponent(key));\r\n      }\r\n    })\r\n    .then(() => {\r\n      // Broadcast Event\r\n      NAF.connection.subscribeToDataChannel(\"changePhase\", ChangePhase);\r\n\r\n      ChangePhase(null, null, { index: 0 });\r\n      NAF.connection.broadcastData(\"changePhase\", {\r\n        index: 0\r\n      });\r\n    })\r\n    .catch((e) => {\r\n      console.error(e);\r\n    });\r\n\r\n  return [barge, bargeToolboxButton];\r\n}","import { ChangePhase } from \"../systems/barge\";\r\n\r\nAFRAME.registerComponent(\"socialvr-barge-button\", {\r\n  dependencies: [\"is-remote-hover-target\", \"hoverable-visuals\"],\r\n  \r\n  // start, stop, reset\r\n  schema: {\r\n    text: {\r\n      type: \"string\", \r\n      default: \"start\"\r\n    },\r\n    eventName: {\r\n      type: \"string\",\r\n      default: \"\"\r\n    },\r\n    phaseID: {\r\n      type: \"number\",\r\n      default: -1\r\n    },\r\n    radius: {\r\n      type: \"number\",\r\n      default: 0.2\r\n    },\r\n    color: {\r\n      type: \"color\",\r\n      default: \"#FFF\"\r\n    }\r\n  },\r\n\r\n  init: function() {\r\n    var data = this.data;\r\n    var el = this.el;\r\n\r\n    // Geometry\r\n    this.geometry = new THREE.SphereGeometry(data.radius, 16, 8);\r\n    this.material = new THREE.MeshStandardMaterial({\r\n      color: data.color,\r\n      roughness: 0.5,\r\n    });\r\n    this.mesh = new THREE.Mesh(this.geometry, this.material);\r\n\r\n    el.setObject3D('mesh', this.mesh);\r\n    el.setAttribute(\"tags\", \"singleActionButton: true\");\r\n    el.setAttribute(\"socialvr-barge-child\", \"\");\r\n    el.classList.add(\"interactable\");\r\n\r\n    // Text\r\n    this.text = document.createElement(\"a-entity\");\r\n    this.text.setAttribute(\"position\", `0 ${this.data.radius + 0.2} 0`);\r\n    this.text.setAttribute(\"text\", `value: ${this.data.text}; align: center; side: double; width: 4;`);\r\n    this.text.setAttribute(\"geometry\", `primitive: plane; height: auto; width: 0.75;`);\r\n    this.text.setAttribute(\"material\", \"color: #807e7e;\");\r\n    this.text.setAttribute(\"billboard\", \"onlyY: true;\");\r\n    el.appendChild(this.text);\r\n    \r\n    this.onClick = this.onClick.bind(this);\r\n    this.el.object3D.addEventListener(\"interact\", this.onClick);\r\n  },\r\n\r\n  remove: function() {\r\n    this.el.object3D.removeEventListener(\"interact\", this.onClick);\r\n  },\r\n\r\n  onClick: function() {\r\n    const scene = document.querySelector(\"a-scene\");\r\n\r\n    this.el.sceneEl.systems[\"hubs-systems\"].soundEffectsSystem.playPositionalSoundFollowing(\r\n      11,\r\n      this.el.object3D\r\n    );\r\n\r\n    if (this.data.phaseID >= 0) {\r\n      // Phase Button\r\n      ChangePhase(null, null, {index: this.data.phaseID});\r\n      NAF.connection.broadcastData(\"changePhase\", {\r\n        index: this.data.phaseID\r\n      });\r\n\r\n      // Phase 1 - Go\r\n      if (this.data.phaseID === 1) {\r\n        scene.emit(\"startBargeEvent\");\r\n      }\r\n    } else {\r\n      // Generic Button\r\n      scene.emit(this.data.eventName);\r\n    }\r\n  }\r\n});","AFRAME.registerComponent(\"socialvr-world-mover\", {\r\n    init: function () {\r\n        this.moving = false;\r\n        this.destinations = [];\r\n        this.currentDestination = -1;\r\n        this.speed = 1;\r\n\r\n        // Initialize Waypoints\r\n        for (let i = 0; i <= 100; i++) {\r\n            const waypoint = document.querySelector(\".Waypoint_\" + i);\r\n\r\n            if (waypoint) {\r\n                this.destinations.push(waypoint.object3D.position);\r\n            }\r\n        }\r\n\r\n        // Networked Events\r\n        const scene = document.querySelector(\"a-scene\");\r\n\r\n        scene.addEventListener(\"startMovingWorld\", this._start.bind(this));\r\n        scene.addEventListener(\"stopMovingWorld\", this._stop.bind(this));\r\n\r\n        NAF.connection.subscribeToDataChannel(\"startMovingWorld\", this.start.bind(this));\r\n        NAF.connection.subscribeToDataChannel(\"stopMovingWorld\", this.stop.bind(this));\r\n    },\r\n\r\n    remove: function () {\r\n        const scene = document.querySelector(\"a-scene\");\r\n\r\n        scene.removeEventListener(\"startMovingWorld\");\r\n        scene.removeEventListener(\"stopMovingWorld\");\r\n    },\r\n\r\n    tick: function (time, delta) {\r\n        if (this.moving) {\r\n            this.el.object3D.position.z += this.speed * (delta / 1000)\r\n        }\r\n    },\r\n\r\n    start: function () {\r\n        this.moving = true;\r\n    },\r\n\r\n    stop: function () {\r\n        this.moving = false;\r\n    },\r\n\r\n    _start: function () {\r\n        this.start(null, null, {});\r\n        NAF.connection.broadcastData(\"startMovingWorld\", {});\r\n    },\r\n\r\n    _stop: function () {\r\n        this.stop(null, null, {});\r\n        NAF.connection.broadcastData(\"stopMovingWorld\", {});\r\n    }\r\n})","import \"./components/barge-button\";\r\nimport \"./components/world-mover\";\r\n\r\nconst scene = document.querySelector(\"a-scene\");\r\n\r\nscene.addEventListener(\"environment-scene-loaded\", () => {\r\n  // Phases\r\n\r\n  // Button - Phase 1\r\n  let button = document.createElement(\"a-entity\");\r\n  let position = document.querySelector(\".startButton\").object3D.position.add(new window.APP.utils.THREE.Vector3(0, 0.5, 0))\r\n\r\n  button.setAttribute(\"socialvr-barge-button\", \"text: Start; radius: 0.3; color: #C576F6; phaseID: 1\");\r\n  button.setAttribute(\"position\", position);\r\n  scene.appendChild(button);\r\n\r\n  // Button - Phase 2\r\n  button = document.createElement(\"a-entity\");\r\n  position = document.querySelector(\".phase1CompleteButton_phase1\").object3D.position.add(new window.APP.utils.THREE.Vector3(0, 0.5, 0))\r\n\r\n  button.classList.add(\"phase1\");\r\n  button.setAttribute(\"socialvr-barge-button\", \"text: Done; radius: 0.3; color: #C576F6; phaseID: 2\");\r\n  button.setAttribute(\"position\", position);\r\n  scene.appendChild(button);\r\n\r\n  // Button - Phase 3\r\n  button = document.createElement(\"a-entity\");\r\n  position = document.querySelector(\".phase2CompleteButton_phase2\").object3D.position.add(new window.APP.utils.THREE.Vector3(0, 0.5, 0))\r\n\r\n  button.classList.add(\"phase2\");\r\n  button.setAttribute(\"socialvr-barge-button\", \"text: Done; radius: 0.3; color: #C576F6; phaseID: 3\");\r\n  button.setAttribute(\"position\", position);\r\n  scene.appendChild(button);\r\n\r\n  // Button - Phase 4\r\n  button = document.createElement(\"a-entity\");\r\n  position = document.querySelector(\".phase3CompleteButton_phase3\").object3D.position.add(new window.APP.utils.THREE.Vector3(0, 0.5, 0))\r\n\r\n  button.classList.add(\"phase3\");\r\n  button.setAttribute(\"socialvr-barge-button\", \"text: Complete; radius: 0.3; color: #C576F6; phaseID: 4\");\r\n  button.setAttribute(\"position\", position);\r\n  scene.appendChild(button);\r\n\r\n  // World Mover\r\n  const worldMover = document.createElement(\"a-entity\");\r\n  worldMover.setAttribute(\"socialvr-world-mover\", \"\");\r\n  scene.appendChild(worldMover);\r\n\r\n  window.APP.utils.GLTFModelPlus\r\n    .loadModel(\"https://statuesque-rugelach-4185bd.netlify.app/assets/moving-world.glb\")\r\n    .then((model) => {\r\n      worldMover.setObject3D(\"mesh\", window.APP.utils.threeUtils.cloneObject3D(model.scene, true));\r\n      worldMover.setAttribute(\"matrix-auto-update\", \"\");\r\n    })\r\n    .catch((e) => {\r\n      console.error(e);\r\n    });\r\n}, { once: true })\r\n"],"names":[],"mappings":"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"}