{"version":3,"file":"development.js","sources":["../src/systems/world-mover.js","../src/main.js"],"sourcesContent":["// https://github.com/georgebutler/hubs/blob/master/src/utils/media-utils.js#L143\r\n\r\nAFRAME.registerSystem(\"socialvr-world-mover\", {\r\n    init: function () {\r\n        this.world = []\r\n\r\n        fetch(\"https://statuesque-rugelach-4185bd.netlify.app/assets/moving-hangar-world.spoke\")\r\n            .then(response => {\r\n                return response.json();\r\n            })\r\n            .then((data) => {\r\n                for (const [key, dta] of Object.entries(data.entities)) {\r\n                    let transform = dta.components.find(el => el.name === \"transform\");\r\n\r\n                    if (transform) {\r\n                        let gltf = dta.components.find(el => el.name === \"gltf-model\");\r\n\r\n                        let position = new window.APP.utils.THREE.Vector3(transform.props.position.x, transform.props.position.y, transform.props.position.z);\r\n                        let rotation = new window.APP.utils.THREE.Euler(transform.props.rotation.x, transform.props.rotation.y, transform.props.rotation.z, \"XYZ\");\r\n                        let scale = new window.APP.utils.THREE.Vector3(transform.props.scale.x, transform.props.scale.y, transform.props.scale.z);\r\n\r\n                        if (gltf) {\r\n                            const { entity } = window.APP.utils.addMedia(gltf.props.src, \"#static-media\", null, null, false, false, true, {}, false, null, null);\r\n\r\n                            entity.object3D.position.copy(position);\r\n                            entity.object3D.rotation.copy(rotation);\r\n                            entity.object3D.scale.copy(scale);\r\n                            entity.object3D.matrixNeedsUpdate = true;\r\n\r\n                            console.log(\"Quandale Dingle\")\r\n                            this.world.push(entity);\r\n                        }\r\n                    }\r\n                }\r\n            })\r\n            .catch((e) => {\r\n                console.error(e);\r\n            });\r\n    },\r\n\r\n    tick: function (delta) {\r\n\r\n    }\r\n});\r\n\r\nexport function InitWorldMover() {\r\n    fetch(\"https://statuesque-rugelach-4185bd.netlify.app/assets/hangar.spoke\")\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .then((data) => {\r\n            for (const [key, entity] of Object.entries(data.entities)) {\r\n                CreateWorldObject(entity)\r\n            }\r\n        })\r\n        .catch((e) => {\r\n            console.error(e);\r\n        });\r\n}","// import \"./components/toolbox-button\";\r\n// import \"./components/barge\";\r\n// import \"./components/barge-button\";\r\n// import \"./components/barge-clock\";\r\n\r\n// import \"./systems/barge\";\r\n// import { CreateBarge } from \"./systems/barge\";\r\nimport \"./systems/world-mover\";\r\n\r\nconst scene = document.querySelector(\"a-scene\");\r\nscene.addEventListener(\"environment-scene-loaded\", () => {\r\n  // console.log(\"[Social VR] Barge - Create Barge\");\r\n\r\n  // const [barge, bargeToolboxButton] = CreateBarge();\r\n  // scene.appendChild(barge);\r\n  // scene.appendChild(bargeToolboxButton);\r\n\r\n  // // Changes camera inspection system to show background, regardless of user preferences.\r\n  // const cameraSystem = scene.systems[\"hubs-systems\"].cameraSystem;\r\n  // cameraSystem.lightsEnabled = true;\r\n\r\n  // // Floaty gravity change.\r\n  // function disableFloatyPhysics() {\r\n  //   const floaties = document.querySelectorAll('[floaty-object=\"\"]');\r\n\r\n  //   floaties.forEach((floaty) => {\r\n  //     floaty.setAttribute(\"floaty-object\", { reduceAngularFloat: true, releaseGravity: 0, gravitySpeedLimit: 0 });\r\n  //   });\r\n  // }\r\n\r\n  // scene.addEventListener(\"object_spawned\", (e) => {\r\n  //   disableFloatyPhysics();\r\n  // });\r\n\r\n  // disableFloatyPhysics();\r\n\r\n  const worldmover = document.createElement(\"a-entity\");\r\n\r\n  worldmover.setAttribute(\"socialvr-world-mover\", \"\");\r\n  scene.appendChild(worldmover);\r\n}, { once: true })\r\n"],"names":[],"mappings":"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"}